<template>
  <div>
    <!-- 货运量统计 -->
    <div class="flex-between">
      <div class="flex-between">
        <div class="title">货源地</div>
        <div class="margin-select">
          <dxj-select :data='yearOpton'
                      width='100px'
                      height='25px'></dxj-select>
        </div>
      </div>
      <div class="flex-between">
        <div class="title">目的地</div>
        <div class="margin-select">
          <dxj-select :data='yearOpton'
                      width='100px'
                      height='25px'></dxj-select>
        </div>
      </div>
      <div class="flex-between">
        <div class="title">统计周期</div>
        <div class="margin-select">
          <dxj-select :data='yearOpton'
                      width='100px'
                      height='25px'></dxj-select>
        </div>
        <div>
          <dxj-select :data='monthOpton'
                      width='80px'
                      height='25px'></dxj-select>
        </div>
      </div>
      <div class="zidingyi"
           @click="clickShow()">自定义</div>
    </div>
    <div>
      <div class="flex-between cargo-type">
        <div class="title">货物类型</div>
        <div class="margin-select">
          <dxj-select :data='yearOpton'
                      width='210px'
                      height='25px'></dxj-select>
        </div>
      </div>
    </div>
    <div style="height:200px;">
      <!-- <cargo-line></cargo-line> -->
    </div>
    <div class="user-custom">
      <user-custom :isShow.sync="show"
                   @close='show=false'
                   left='750px'
                   top='-290px'>
        <div class="flex-between">
          <div class="flex-start">
            <div class="title">
              统计周期
            </div>
            <div class="margin-select">
              <dxj-select :data='yearOpton'
                          width='100px'
                          height='30px'></dxj-select>
            </div>
          </div>
          <div>
            <dxj-multiple-select :data.sync='multipleMonthOption' @select="select"></dxj-multiple-select>
          </div>
        </div>
      </user-custom>
    </div>
  </div>
</template>
<script>
import { mapState } from 'vuex'
import dictionary from '@/util/dictionary'
import cargoLine from '../../../components/charts/cargo_line'
import DxjSelect from '../../../components/companymanage/DxjSelect'
import DxjMultipleSelect from '../../../components/companymanage/DxjMultipleSelect'
import userCustom from '../userCustom/userCustom'

export default {
  mounted() {},
  data() {
    return {
      show: false,
      yearOpton: dictionary.date.year,
      monthOpton: [{ label: '全部', value: null }, ...dictionary.date.month],
    }
  },
  methods: {
    select(data) {
      console.log(data)
      this.multipleMonthOption = data
    },
    clickShow() {
      this.show = !this.show
    },
  },
  computed: {
    ...mapState('companyManage', ['cargoId_name']),
    multipleMonthOption() {
      const monthOptions = dictionary.date.month
      if (monthOptions && monthOptions.length > 0) {
        const newMonthOptions = monthOptions.map((val) => {
          const newVal = val
          newVal.checked = true
          return newVal
        })
        return newMonthOptions
      }
      return []
    },
  },
  components: { DxjSelect, cargoLine, DxjMultipleSelect, userCustom },
}
</script>
<style scoped>
.title {
  font-size: 16px;
  color: #b5b5b5;
}
.margin-select {
  margin: 0 10px;
}
.zidingyi {
  color: #afb0b1;
  background: #2d484c;
  font-size: 14px;
  padding: 5px 30px;
}
.cargo-type {
  width: 300px;
  margin: 10px 10px 10px 0;
}
.user-custom {
  position: relative;
}
</style>


